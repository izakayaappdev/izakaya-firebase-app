### 外部サービス連携
- **会計ソフト連携**：freee、弥生会計等
- **POSレジ連携**：売上データとの突合
- **配送業者連携**：発注から納品までの追跡

## カスタマーサポート機能

### アプリ内チャットサポート
**基本機能**
- 「困ったときはここ」ボタンをアプリ内に設置
- カテゴリ別問い合わせ（操作方法・不具合・要望・その他）
- テキスト入力 + 画面スクリーンショット添付可能

### 運用方式（非リアルタイム）
**1. チケット管理システム**
- 問い合わせ送信時に自動チケット番号発行
- 営業時間内（平日9-18時）に順次対応
- 回答目標：24時間以内

**2. FAQ自動提案機能**
- 問い合わせ入力時に関連FAQを自動表示
- 「在庫追加方法」「バーコード読み取り」等の頻出質問を事前解決
- セルフサービス率向上

### チケット管理データ構造
```javascript
{
  id: 'ticket_001',
  userId: 'user@gmail.com',
  storeId: 'store_123',
  category: 'operation', // operation/bug/feature/other
  title: '商品が追加できません',
  description: '商品名を入力しても検索結果に出てこない...',
  screenshots: ['screenshot1.png'],
  deviceInfo: 'iPhone 14, iOS 17.1, Chrome',
  status: 'open', // open/in_progress/resolved/closed
  priority: 'medium', // low/medium/high/urgent
  createdAt: '2025-07-02T10:00:00Z',
  responses: [
    {
      from: 'support',
      message: 'ご連絡ありがとうございます...',
      timestamp: '2025-07-02T14:30:00Z'
    }
  ],
  resolvedAt: null
}
```

### ユーザー体験フロー
**1. 問い合わせ送信**
- カテゴリ選択 → 問題内容記述
- スクリーンショット添付（任意）
- 送信完了 → 「チケット#001で受付ました」通知

**2. 自動FAQ提案**
- 入力内容に応じて関連FAQを表示
- 「この情報で解決しましたか？」確認
- 解決した場合はチケット作成をスキップ

**3. サポート対応**
- 営業時間内に担当者が確認・回答
- 回答時にプッシュ通知 + アプリ内通知
- 必要に応じて追加質問・画面共有

**4. 履歴管理**
- アプリ内で過去の問い合わせ履歴確認
- 解決済み問題の再確認可能
- 評価・フィードバック機能

### サポート品質向上
**分析機能**
- 問い合わせカテゴリ別集計
- よくある問題の特定
- 解決時間の測定・改善

**FAQ自動更新**
- 頻出問題を自動でFAQ化
- アプリの使いにくい部分の特定
- 次期アップデートの優先度決定

### 通知・アラート機能
**ユーザー向け**
- 回答時のプッシュ通知
- 重要なお知らせ（メンテナンス等）
- アップデート案内

**運営側向け**
- 高優先度チケットのアラート
- 対応遅延のアラート
- 満足度低下のアラート# 飲み屋在庫管理アプリ 仕様書

## 基本コンセプト
DX初心者でも使いやすい、飲み屋向けの革新的な在庫管理システム。将来的にはデータプラットフォームとして業界を変革する。

## 基本機能

### 認証・店舗管理
#### Gmail認証とユーザー登録
- Gmail認証によるマルチ店舗対応
- 初回ログイン時の店舗登録機能（ユーザー自身で登録）

#### 店舗情報管理
```javascript
{
  id: 'store_12345',
  name: '居酒屋○○',
  address: '東京都渋谷区...',
  phone: '03-1234-5678',
  businessType: 'izakaya', // izakaya/bar/restaurant/cafe
  owner: 'user@gmail.com',
  createdAt: '2025-07-02',
  staff: [
    {email: 'manager@gmail.com', role: 'manager'},
    {email: 'staff1@gmail.com', role: 'staff'}
  ],
  productCategories: {
    // アルコール類
    beer: true, sake: true, shochu: true, 
    whisky: false, wine: false, cocktail: true,
    // 料理系  
    yakitori: true, sashimi: true, hotpot: false,
    ramen: false, italian: false,
    // 営業スタイル
    bottleKeep: true, delivery: false, takeout: true
  },
  specialties: ['焼き鳥', '日本酒']
}
```

#### 権限管理システム
**3段階の権限レベル**

**1. オーナー（店舗所有者）**
- 全機能アクセス可能
- 店舗情報編集
- スタッフ招待・削除・権限変更
- 財務データ閲覧
- アカウント管理

**2. マネージャー（店長クラス）**  
- 日常業務 + 管理機能
- 在庫管理・棚卸し
- 商品追加・編集
- 仕入れ先管理・発注業務
- 価格情報・利益率データ閲覧
- 会計レポート出力
- スタッフ作業履歴確認

**3. スタッフ（アルバイト等）**
- 基本的な在庫操作
- 在庫数増減
- 商品検索・確認  
- 空き瓶撮影での在庫減算
- 商品追加（即座に利用可能、後で管理者が品質チェック）

#### 権限マトリックス
```
機能                 | オーナー | マネージャー | スタッフ
--------------------|---------|------------|--------
在庫数変更           | ◯       | ◯          | ◯
商品追加             | ◯       | ◯          | ◯(簡単登録)
価格情報閲覧         | ◯       | ◯          | ✗
利益率データ         | ◯       | ◯          | ✗
仕入れ先管理         | ◯       | ◯          | ✗
発注・仕入れ         | ◯       | ◯          | ✗
スタッフ管理         | ◯       | ✗          | ✗
店舗設定変更         | ◯       | ✗          | ✗
会計レポート出力     | ◯       | ◯          | ✗
```

### 商品マスター管理
#### 商品情報構造
```
{
  id: 'jp_asahi_beer_superdry_can_350ml',
  name: 'アサヒスーパードライ',
  nameHiragana: 'あさひすーぱーどらい',
  manufacturer: 'アサヒビール',
  manufacturerHiragana: 'あさひびーる',
  country: '日本',
  region: '関東', // 任意項目（ワイン・日本酒等で重要）
  category: 'alcohol',
  subcategory: 'beer',
  alcoholType: null, // 芋焼酎、純米酒等の詳細分類
  container: 'can', // can/bottle/keg/pack/pouch
  containerName: '缶',
  size: '350ml',
  fullName: 'アサヒスーパードライ 缶 350ml',
  image: '🍺',
  jan: '4901777000001'
}
```

#### 商品追加の簡素化
**現場スタッフでも簡単に追加可能**

**1. 多様な入力方法**
- バーコードスキャン（JANコード自動読み取り）
- 商品写真撮影（AI認識で候補表示）
- 音声入力（「アサヒスーパードライ」と発話）
- 手動入力（ひらがな検索対応）

**2. 最小限の入力項目**
- 必須：商品名、カテゴリ、仕入れ値
- 任意：メーカー、容器、サイズ（後で管理者が追加可能）

**3. 即座利用 + 後で品質管理**
- スタッフ追加 → 即座にシステム利用可能
- 管理者が後でまとめて品質チェック・統合
- 重複や誤りがあっても業務は止まらない

**4. モチベーション向上**
- 商品追加時の感謝メッセージ
- 追加商品数の可視化
- 「みんなでデータベースを育てよう」の雰囲気作り

#### 自動学習システム
- ユーザーが手入力した商品を自動的にマスターDB追加
- 管理者側で後から品質管理・統合作業
- 重複商品の自動検出・統合提案

#### 検索機能
- ひらがな検索対応
- あいまい検索（「あさ」→「アサヒ」）
- リアルタイム候補表示
- 類似商品「もしかして？」提案

### 在庫管理
#### 基本在庫情報
- 商品別在庫数
- 仕入れ値
- 在庫金額（自動計算）
- 最終更新日

#### 在庫更新方法
1. **手動更新**：+/-ボタンで数量変更
2. **バーコード読み取り**：JANコードで商品特定
3. **商品写真認識**：撮影で商品特定
4. **空き瓶画像認識**：空き瓶撮影で自動減算

#### 棚卸し機能
- 月末棚卸し
- 理論在庫vs実地在庫の差異表示
- 在庫金額計算（会計処理用）

## 仕入れ先管理・価格比較

### 仕入れ先マスター
```
{
  id: 'supplier_001',
  name: '○○酒販',
  type: 'local_liquor_store',
  contact: '03-1234-5678',
  address: '東京都渋谷区...',
  deliveryArea: ['渋谷区', '新宿区'],
  minOrder: 10000,
  paymentTerms: '月末締翌月払い'
}
```

### 価格比較機能
- 商品×仕入れ先の価格管理
- 最安値自動表示
- 配送料込み実質価格
- 在庫状況・納期表示
- 発注最適化提案

## AI・データ分析機能

### 天気・気温連携
- 天気予報API連携
- 気温別需要予測
- 季節トレンド分析
- 雨天時需要変動

### 毎日の提案通知
#### 通知例
```
📱 今日のお役立ち情報（7月2日 水曜日）

🌞 今日は暑くなりそうです（32度）

💡 こんなのはいかがですか？
- 🍺 ビールがよく出るかも（去年の同じ日は1.5倍売れました）
- 🧊 氷多めに準備しておくと安心です
- 🍅 冷やしトマト、意外と人気でした！

📦 在庫チェック
- レモンが少なくなってます（あと5個）
- ビールは十分ありそうです
```

### データ分析
- 商品別売上トレンド
- 利益率分析
- 廃棄ロス管理
- 競合店匿名比較
- 地域別人気商品

## UI/UX設計（DX初心者向け）

### 設計方針
- 大きなボタン、分かりやすいアイコン
- シンプルな画面構成（情報の詰め込みすぎ禁止）
- 日本語ラベル、専門用語なし
- タップ中心の操作
- 自動計算（手動計算なし）
- エラーメッセージも分かりやすく

### PWA対応
- ホーム画面追加でアプリっぽく
- オフライン対応
- 自動データ同期

## 将来展開・ビジネスモデル

### 段階的開発計画
#### Phase 1（基本機能）
- 在庫管理
- 商品マスター
- 仕入れ先価格比較

#### Phase 2（AI・分析）
- 天気連携
- 需要予測
- 自動提案通知

#### Phase 3（API連携）
- 仕入れ先API連携
- メーカーAPI連携
- リアルタイム価格情報

#### Phase 4（プラットフォーム化）
- ボトルキープアプリ連携
- 業界データプラットフォーム
- B2B2Cサービス展開

### 収益モデル
1. **仕入れ先紹介手数料**
2. **メーカーマーケティング費用**
3. **プレミアム機能利用料**
4. **API利用料**
5. **データ分析レポート販売**

### 差別化ポイント
- 現場目線の圧倒的使いやすさ
- リアルタイム価格比較
- AI活用の需要予測
- 豊富な商品マスター
- 空き瓶認識などの革新機能

## 技術仕様

### アーキテクチャ
- PWA（Progressive Web App）
- Firebase認証・データベース
- React/Next.js
- クラウドネイティブ設計

### API連携
- Google Cloud Vision API（画像認識）
- 天気予報API
- 仕入れ先・メーカーAPI（将来）

### データ設計
- マルチテナント対応
- リアルタイム同期
- 拡張性重視

## 革新的機能アイデア

### 画像認識活用
1. **バーコード読み取り**：商品登録・在庫管理
2. **商品写真認識**：パッケージ撮影で商品特定
3. **空き瓶認識**：空き瓶撮影で自動在庫減算

### 自動化・省力化
1. **変更分のみ記録**：昨日と変わらない商品は何もしない
2. **一括操作**：カテゴリ別まとめて処理
3. **学習機能**：使用パターンを学習して自動提案

### データ活用
1. **天気連動**：気温・降水確率で需要予測
2. **季節分析**：時期別トレンド把握
3. **地域比較**：同業他店との匿名比較

### 現場の1日の業務フロー例

**朝（8:00）**
- 📱 アプリから今日の天気連動提案通知
- 「今日は32度予想、ビールの需要増加が見込まれます」
- 仕入れ推奨商品の確認

**昼（準備時間）**  
- 📷 空き瓶・空き缶をまとめて撮影
- AI画像認識で自動在庫減算
- バーコードスキャンで新商品追加

**夕方（16:00）**
- 📊 在庫状況確認
- 💰 仕入れ先価格比較で最適発注
- 明日の仕込み量調整

**夜（営業中）**
- 📱 リアルタイム在庫確認
- 🎯 売り切りたい商品の優先提案
- 📝 新商品を音声入力で簡単追加

**月末**
- 📋 ワンタッチで棚卸し
- 💼 会計レポート自動生成
- 📈 売上・利益分析レポート

## 追加検討項目

### 営業支援機能
- **メニュー連携**：在庫切れ商品の自動非表示
- **売り切り支援**：期限近い商品の優先表示
- **利益最大化**：高利益率商品の推奨表示

### 経営分析機能
- **ABC分析**：売上貢献度別商品分類
- **死に筋商品発見**：回転率の悪い商品特定
- **シーズン分析**：季節別需要パターン把握

### 外部サービス連携
- **会計ソフト連携**：freee、弥生会計等
- **POSレジ連携**：売上データとの突合
- **配送業者連携**：発注から納品までの追跡

### 業務効率化
- レシピ管理連携（料理に使う食材を自動減算）
- 廃棄管理（消費期限アラート）
- スタッフ別使用量分析

### 売上最大化
- 利益率分析・最適化提案
- セット販売提案
- QRメニュー連携（在庫切れ商品を自動非表示）

### 外部連携
- 税務処理連携（会計ソフト連動）
- 保健所対応（食品管理記録）
- 決済システム連携

## まとめ
このアプリは単なる在庫管理ツールを超え、飲食業界のデジタル変革を推進するプラットフォームとなる可能性を秘めている。段階的な機能追加により、利用者の拡大と収益の多様化を図り、最終的には業界標準のインフラとなることを目指す。

## 開発環境
エディタ: VSCode
ランタイム: Node.js（PATH問題解決済み）
デプロイ: Netlify CLI導入済み・自動デプロイ設定済み
バージョン管理: GitHub（アカウント登録済み、リポジトリ未作成）
認証準備: Gmail（登録済み）
ビルドツール: Vite
フレームワーク: React